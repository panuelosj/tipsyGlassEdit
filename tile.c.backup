#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <time.h>
#include <math.h>

typedef struct {
    double simtime;
    int nbodies;
    int ndim;
    int nsph;
    int ndark;
    int nstar;
    int pad;
} header;
typedef struct {
    float mass;
    float pos[3];
    float vel[3];
    float rho;
    float temp;
    float eps;
    float metals;
    float phi;
} gas_particle;
typedef struct {
    float mass;
    float pos[3];
    float vel[3];
    float eps;
    float phi;
} dark_particle;
typedef struct {
    float mass;
    float pos[3];
    float vel[3];
    float metals;
    float tform;
    float eps;
    float phi;
} star_particle;


int main(){
    char filename[100] = "glass16.std";
    printf("Reading %c\n", filename);
    FILE *fp = fopen(filename, "r");

    // Create Header for the input glass
    header glassInHeader;
    fread(&glassInHeader.simtime, sizeof(double), 1, fp);
    fread(&glassInHeader.nbodies, sizeof(int), 5, fp);

    printf("Header:\n")
    printf("simtime: %f\n\tnbodies: %i\n\tndim: %i\n\tnsph: %i\n\tndark: %i\n\tnstar: %i\n\tnpad: %i\n\t",
            glassInHeader.simtime, glassInHeader.nbodies, glassInHeader.ndim, glassInHeader.nsph, glassInHeader.ndark, glassInHeader.nstar, glassInHeader.npad);
    
}
